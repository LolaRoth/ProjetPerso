/* User-provided fonts placed in public/font/ */
@font-face {
  font-family: "BricolageGrotesque";
  src: url("/font/BricolageGrotesque.ttf") format("truetype");
  font-weight: 100 900;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "CandyPlanet";
  src: url("/font/CandyPlanet.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "SugarPeachy";
  src: url("/font/SugarPeachy.otf") format("opentype");
  font-weight: 400 700;
  font-style: normal;
  font-display: swap;
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   SYSTÈME DE DÉGRADATION VISUELLE
   ======================================== */

/* Variables CSS de dégradation (définies via JS) */
:root {
  --degradation-level: 0;
  --degradation-percent: 0%;
  --degradation-shake: 0px;
  --degradation-blur: 0px;
  --degradation-rotation: 0deg;
  --degradation-hue: 0deg;
  --degradation-glitch: 0;
  --degradation-skew: 0deg;
  --degradation-chromatic: 0px;
  --degradation-noise: 0;
  --degradation-scanlines: 0;
  --degradation-contrast: 1;
  --degradation-saturate: 1;
}

/* Conteneur principal avec effets */
.degradation-container {
  transition: filter 0.5s ease-out;
}

.degradation-container.degrading {
  filter: hue-rotate(var(--degradation-hue));
}

.degradation-container.degrading-medium {
  filter: hue-rotate(var(--degradation-hue))
    saturate(var(--degradation-saturate));
}

.degradation-container.degrading-high {
  filter: hue-rotate(var(--degradation-hue))
    saturate(var(--degradation-saturate)) contrast(var(--degradation-contrast));
}

.degradation-container.degrading-critical {
  filter: hue-rotate(var(--degradation-hue))
    saturate(var(--degradation-saturate)) contrast(var(--degradation-contrast))
    brightness(0.95);
}

/* Éléments qui se dégradent avec la classe .degradable */
.degradable {
  transition:
    filter 0.4s ease-out,
    opacity 0.3s ease-out;
}

/* Phase: Glitching (12-30%) - Effets de filtre uniquement */
body[data-phase="glitching"] .degradable {
  filter: hue-rotate(calc(var(--degradation-hue) * 0.5));
}

/* Phase: Unstable (30-50%) */
body[data-phase="unstable"] .degradable {
  filter: hue-rotate(var(--degradation-hue)) saturate(1.2);
}

/* Phase: Chaotic (50-75%) */
body[data-phase="chaotic"] .degradable {
  filter: hue-rotate(var(--degradation-hue)) saturate(1.4) contrast(1.15);
}

/* Phase: Broken (75-100%) */
body[data-phase="broken"] .degradable {
  filter: hue-rotate(var(--degradation-hue)) saturate(1.8) contrast(1.3)
    brightness(0.9);
}

/* ========================================
   ANIMATIONS DE DÉGRADATION
   ======================================== */

/* Animations subtiles (glitching) */
@keyframes text-glitch {
  0%,
  92%,
  100% {
    transform: translate(0);
    opacity: 1;
  }
  93% {
    transform: translate(-2px, 1px);
    opacity: 0.9;
  }
  95% {
    transform: translate(2px, -1px);
    opacity: 1;
  }
  97% {
    transform: translate(-1px, -1px);
    opacity: 0.95;
  }
  99% {
    transform: translate(1px, 1px);
    opacity: 1;
  }
}

/* ========================================
   EFFETS SPÉCIAUX
   ======================================== */

/* Overlay effects */
.scanlines {
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15) 0px,
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
}

.noise-overlay {
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%' height='100%' filter='url(%23noise)'/%3E%3C/svg%3E");
  opacity: 0.03;
}

/* Texte corrompu */
.corrupted-text {
  position: relative;
}

.corrupted-text::before {
  content: attr(data-text);
  position: absolute;
  left: 2px;
  top: 0;
  color: #ff66c8;
  opacity: 0.5;
  clip-path: polygon(0 0, 100% 0, 100% 50%, 0 50%);
}

.corrupted-text::after {
  content: attr(data-text);
  position: absolute;
  left: -2px;
  top: 0;
  color: #6bffff;
  opacity: 0.5;
  clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%);
}

/* Bordures qui tremblent */
.shaky-border {
  animation: border-shake 0.3s linear infinite;
}

@keyframes border-shake {
  0%,
  100% {
    border-radius: 8px;
  }
  25% {
    border-radius: 10px 6px 8px 10px;
  }
  50% {
    border-radius: 6px 10px 10px 6px;
  }
  75% {
    border-radius: 10px 8px 6px 10px;
  }
}

/* Transition entre les phases */
.phase-transition {
  animation: phase-flash 0.5s ease-out;
}

@keyframes phase-flash {
  0% {
    filter: brightness(2) saturate(0);
  }
  50% {
    filter: brightness(1.5) saturate(0.5);
  }
  100% {
    filter: brightness(1) saturate(1);
  }
}

/* Damage flash effect */
@keyframes damage-flash {
  0% {
    background-color: rgba(255, 0, 0, 0.3);
    transform: scale(1.02);
  }
  100% {
    background-color: transparent;
    transform: scale(1);
  }
}

.damage-flash {
  animation: damage-flash 0.15s ease-out;
}

/* CRT flicker */
@keyframes crt-flicker {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.98;
  }
}

/* Chromatic aberration animation */
@keyframes chromatic-pulse {
  0%,
  100% {
    filter: drop-shadow(-2px 0 rgba(255, 0, 0, 0.5))
      drop-shadow(2px 0 rgba(0, 255, 255, 0.5));
  }
  50% {
    filter: drop-shadow(-4px 0 rgba(255, 0, 0, 0.7))
      drop-shadow(4px 0 rgba(0, 255, 255, 0.7));
  }
}

/* ========================================
   ANIMATIONS GLOBALES AMÉLIORÉES
   ======================================== */

/* Animation pulse lente pour les fonds décoratifs */
@keyframes pulse-slow {
  0%,
  100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.animate-pulse-slow {
  animation: pulse-slow 4s ease-in-out infinite;
}

/* Animation de gradient qui bouge */
@keyframes gradient-x {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient-x {
  background-size: 200% 200%;
  animation: gradient-x 3s ease infinite;
}

/* Animation de flottement subtil */
@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* Animation d'entrée fade-up */
@keyframes fade-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-up {
  animation: fade-up 0.5s ease-out forwards;
}

/* Animation de scale-in */
@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out forwards;
}

/* Animation de shimmer (effet de brillance) */
@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* ========================================
   UTILITAIRES GLOBAUX
   ======================================== */

/* Glow effects pour les textes */
.text-glow-pink {
  text-shadow:
    0 0 20px rgba(255, 102, 200, 0.5),
    0 0 40px rgba(255, 102, 200, 0.3);
}

.text-glow-blue {
  text-shadow:
    0 0 20px rgba(107, 255, 255, 0.5),
    0 0 40px rgba(107, 255, 255, 0.3);
}

/* Box glow effects */
.box-glow-pink {
  box-shadow:
    0 0 20px rgba(255, 102, 200, 0.3),
    0 0 40px rgba(255, 102, 200, 0.1);
}

.box-glow-blue {
  box-shadow:
    0 0 20px rgba(107, 255, 255, 0.3),
    0 0 40px rgba(107, 255, 255, 0.1);
}

/* Smooth scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(18, 18, 18, 0.5);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, #ff66c8, #6bffff);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, #ff88d8, #8bffff);
}

/* Selection style */
::selection {
  background: rgba(255, 102, 200, 0.3);
  color: white;
}

/* Focus visible pour accessibilité */
:focus-visible {
  outline: 2px solid #ff66c8;
  outline-offset: 2px;
}
